#!/usr/bin/perl 

# Usage: 
# ./transform < input-file > output-file
#
# Descrption:
# input-file is standard input (stdin).
# output-file is standard output(stdout).
#
# Date: 10/19/2020
# Author: Iztok Savnik

# consts
$ln = ();
$fst = 1;
$lsum = 0;
$cnt = 0;
$maxs = 0;

# check lines of in file
while (<STDIN>) {

    chop; chop;

    @ln = split " ";
    #print "C,".$c[2]."\n"; 

    %st = ();
    for $e (@ln) {
        $st{$e} = 1;
    }

    @sln = sort { $a <=> $b } (keys %st);
    $p = join("\,", @sln);
    print $p." ".(scalar @sln)."\n";

    #if ((scalar @sln)>1) {
       if ((scalar @sln) > $maxs) {
          $maxs = (scalar @sln);
       }

       $cnt++;
       $lsum += scalar @sln;;
    #}

    #print $_."\n";
}

print "avg=".($lsum/$cnt)."\n";
print "max=".$maxs."\n";
